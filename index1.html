<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<title>Offene Tickets</title>
<style>
body { font-family: Arial, sans-serif; padding: 2rem; background: #f5f5f5; }
h1 { color: #333; }
table { border-collapse: collapse; width: 100%; background: white; }
th, td { border: 1px solid #ccc; padding: 8px; text-align: left; }
th { background: #eee; }
</style>
</head>
<body>
<h1>Offene Tickets</h1>
<table id="tickets-table">
    <thead>
        <tr>
            <th>User ID</th>
            <th>Channel ID</th>
        </tr>
    </thead>
    <tbody></tbody>
</table>

<script>
async function loadTickets() {
    try {
        const res = await fetch('http://localhost:3000/api/open-tickets'); // hier die URL zu deiner API
        const tickets = await res.json();
        const tbody = document.querySelector('#tickets-table tbody');
        tbody.innerHTML = '';
        tickets.forEach(t => {
            const tr = document.createElement('tr');
            tr.innerHTML = `<td>${t.userId}</td><td>${t.channelId}</td>`;
            tbody.appendChild(tr);
        });
    } catch (err) {
        console.error(err);
    }
}

// alle 10 Sekunden aktualisieren
loadTickets();
setInterval(loadTickets, 10000);
</script>
</body>
</html>
