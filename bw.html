<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<title>GTA RP Bewerbung</title>
<style>
  body { font-family: Arial; max-width: 600px; margin: 50px auto; }
  label { display: block; margin-top: 10px; }
  input, textarea { width: 100%; padding: 8px; margin-top: 5px; }
  button { margin-top: 15px; padding: 10px 20px; }
</style>
</head>
<body>

<h2>GTA RP Bewerbung</h2>

<form id="bewerbungForm">
  <label>Name:</label>
  <input type="text" name="name" required>

  <label>Alter:</label>
  <input type="number" name="alter" required>

  <label>Discord:</label>
  <input type="text" name="discord" required>

  <label>Warum willst du bei uns spielen?</label>
  <textarea name="bewerbung" rows="5" required></textarea>

  <button type="submit">Absenden</button>
</form>

<p id="status"></p>

<script>
const form = document.getElementById("bewerbungForm");
const status = document.getElementById("status");

// Hier die Web-App-URL einfÃ¼gen
const scriptURL = "https://script.google.com/macros/s/AKfycbzkQ_6caNQOrCCoGsHrV9lymLPn1hQ3hytLbRcTG3v8iai5AplnLodO9WI1Mbagbf9iWg/exec";

form.addEventListener("submit", e => {
  e.preventDefault();
  
  const formData = {
    name: form.name.value,
    alter: form.alter.value,
    discord: form.discord.value,
    bewerbung: form.bewerbung.value
  };
  
  fetch(scriptURL, {
    method: "POST",
    body: JSON.stringify(formData)
  })
  .then(response => response.json())
  .then(data => {
    if(data.status === "success"){
      status.textContent = "Bewerbung erfolgreich abgeschickt!";
      form.reset();
    } else {
      status.textContent = "Fehler beim Absenden!";
    }
  })
  .catch(err => {
    status.textContent = "Fehler beim Absenden!";
    console.error(err);
  });
});
</script>

</body>
</html>
